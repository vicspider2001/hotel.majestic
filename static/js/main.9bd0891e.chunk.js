(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{151:function(e,t,a){e.exports=a(227)},156:function(e,t,a){},158:function(e,t,a){},169:function(e,t,a){},227:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(16),o=a.n(s),l=a(67),c=a(21),u=a(15),i=a(8),m=a(9),h=a(13),p=a(12),d=(a(156),a(39)),f=a(7),S=a(29),E=a(144),v=a(46),b=a(59),g=a(50),T=a.n(g),y=a(79),C=(a(158),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),n=t.call(this,e),console.log(">>> inside nanetConstructor",e),n.state={show:!1,checkinData:"",vacantData:"",CheckOut:"",userdata:""},n}return Object(m.a)(a,[{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"logoutNow",value:function(){localStorage.removeItem("rtk"),localStorage.removeItem("userdata"),window.location.reload()}},{key:"render",value:function(){var e=this;console.log(">>>Inside RMrender",this.state);var t=this.state.checkinData;if("green"!==t)var a=t.length;var n=this.state.vacantData.length,s=this.state.CheckOut.length;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"headerbackgrd"},r.a.createElement("span",null,r.a.createElement(l.b,{to:"/"},r.a.createElement("center",null,r.a.createElement("img",{src:"https://i.ibb.co/m9fxh8R/Logo-40.jpg",className:"logo",style:{width:"100px",height:"100px",marginTop:"20px",marginBottom:"20px"},alt:"logo"})))),r.a.createElement("span",null,r.a.createElement("i",{type:"button",className:"fa fa-bars size2",onClick:function(){return e.handleShow()}})),r.a.createElement("span",null,r.a.createElement("div",null,r.a.createElement("span",{className:"Ikem"},"Hi ",localStorage.getItem("userdata")))),r.a.createElement("span",null,r.a.createElement("div",null,r.a.createElement("p",{type:"button",className:"Adriel",onClick:function(){return e.logoutNow()}},"logout")))),r.a.createElement("div",{className:"headerbackgrd2"},r.a.createElement("span",null,r.a.createElement("center",null,r.a.createElement("span",{className:"fontopt1"},"CheckIn")," ",r.a.createElement("button",{className:"btn btn-danger reshape"},a))),r.a.createElement("span",null,r.a.createElement("center",null,r.a.createElement("span",{className:"fontopt3"},"CheckOut ")," ",r.a.createElement("button",{className:"btn btn-danger reshape"},s))),r.a.createElement("span",null,r.a.createElement("center",null,r.a.createElement("span",{className:"fontopt2"},"Vacant ")," ",r.a.createElement("button",{className:"btn btn-danger reshape"},n)))),r.a.createElement(v.a,{show:this.state.show},r.a.createElement("div",{className:"headerbackgrd3"},r.a.createElement(v.a.Body,null,r.a.createElement("div",{className:"bg-dark p-3 size3"},r.a.createElement(b.a,{variant:"white",onClick:function(){return e.handleClose()}})),r.a.createElement("div",{className:"menu"},r.a.createElement("center",null,r.a.createElement("p",{className:"menulist",type:"button",onClick:function(){e.props.history.push("/"),e.handleClose()}},"Dashboard"))),r.a.createElement("div",{className:"menu"},r.a.createElement("center",null,r.a.createElement("p",{className:"menulist",type:"button",onClick:function(){e.props.history.push("/RoomChart"),e.handleClose()}},"Room Chart"))),r.a.createElement("div",{className:"menu"},r.a.createElement("center",null,r.a.createElement("p",{className:"menulist",type:"button",onClick:function(){e.props.history.push("/Reservation"),e.handleClose()}},"Reservations"))),r.a.createElement("div",{className:"menu"},r.a.createElement("center",null,r.a.createElement("p",{className:"menulist",type:"button",onClick:function(){e.props.history.push("/Occupancy"),e.handleClose()}},"Occupancy"))),r.a.createElement("div",{className:"menu"},r.a.createElement("center",null,r.a.createElement("p",{className:"menulist",type:"button",onClick:function(){e.props.history.push("/SalesReport"),e.handleClose()}},"Daily Sales")))))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside RMdidMount"),fetch("".concat("https://dgsyh.localto.net/getrmstatus"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({checkinData:t.map(function(e){return e.roomStatus}).filter(function(e){return"green"!==e&&"black"!==e})}),e.setState({vacantData:t.map(function(e){return e.roomStatus}).filter(function(e){return"green"===e})}),e.setState({CheckOut:t.map(function(e){return e.roomStatus}).filter(function(e){return"black"===e})})})}}]),a}(n.Component)),R=Object(c.e)(C),O=a(44),N=a.n(O),I=a(62),j=(a(168),a(169),a(129)),k=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(u.a)({},e.target.name,e.target.value))},console.log(">>> inside loginConstructor",e),n.state={password:"",email:"",message:"",login:!0,userdat:"",userMail:"",registerfirst:!1,username:"",userphone:"",useremailAD:"",userpassword:""},n}return Object(m.a)(a,[{key:"loginNow",value:function(){var e=this;try{var t={password:"".concat(this.state.password),email:"".concat(this.state.email),message:"".concat(this.state.message)};fetch("https://dinamauth.onrender.com/api/auth/login",{method:"POST",headers:{accept:"application/json","content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(t){!1===t.auth?(e.setState({message:t.token}),alert(e.state.message)):(localStorage.setItem("rtk",t.token),e.myTimer=setTimeout(function(){fetch("https://dinamauth.onrender.com/api/auth/userinfo",{method:"GET",headers:{"x-access-token":localStorage.getItem("rtk")}}).then(function(e){return e.json()}).then(function(t){localStorage.setItem("userdata",t.name),localStorage.setItem("emailAD",t.email),e.setState({userMail:t.email}),"admin@majesticgarden.com"===e.state.userMail?e.setState({login:!1,registerfirst:!0}):(e.setState({login:!1,registerfirst:!1}),window.location.reload())})},1e3))})}catch(a){console.log(a)}}},{key:"registerNow",value:function(){var e=Object(I.a)(N.a.mark(function e(){var t;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{t={name:"".concat(this.state.username),phone:"".concat(this.state.userphone),email:"".concat(this.state.useremailAD),password:"".concat(this.state.userpassword)},fetch("https://dinamauth.onrender.com/api/auth/register",{method:"POST",headers:{accept:"application/json","content-type":"application/json"},body:JSON.stringify(t)}).then(this.setState({login:!0,registerfirst:!1}))}catch(a){console.log(a)}case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"onCloseModallogin",value:function(){this.setState({login:!1})}},{key:"closePage",value:function(){this.setState({registerfirst:!1,login:!0})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside logindetails",this.state),r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{open:this.state.login,center:!0},r.a.createElement("div",null,r.a.createElement("div",{className:"formdesign152"},r.a.createElement("h6",{className:"mb-3"},"Login First"),r.a.createElement("div",null,r.a.createElement("center",null,r.a.createElement("input",{autoComplete:"off",className:"form-control mb-3 formsize51",name:"email",require:!0,placeholder:"Input Email",value:this.state.email,onChange:this.handleChange}),r.a.createElement("input",{type:"password",autoComplete:"off",className:"form-control mb-3 formsize51",name:"password",require:!0,placeholder:"Enter Password",value:this.state.password,onChange:this.handleChange}),r.a.createElement("button",{disabled:""===this.state.email,className:"btn btn-warning formsize91",onClick:function(){return e.loginNow()}},"Login")))))),r.a.createElement(j.a,{open:this.state.registerfirst,onClose:function(){return e.closePage()},center:!0},r.a.createElement("div",null,r.a.createElement("div",{className:"formdesign152"},r.a.createElement("h6",{className:"mb-3"},"Register First"),r.a.createElement("div",null,r.a.createElement("input",{autoComplete:"off",className:"form-control mb-3 formsize51",name:"username",require:!0,placeholder:"Enter Name",value:this.state.username,onChange:this.handleChange}),r.a.createElement("input",{autoComplete:"off",className:"form-control mb-3 formsize51",name:"userphone",require:!0,placeholder:"Enter Phone",value:this.state.userphone,onChange:this.handleChange}),r.a.createElement("input",{autoComplete:"off",className:"form-control mb-3 formsize51",name:"useremailAD",require:!0,placeholder:"Enter Email",value:this.state.useremailAD,onChange:this.handleChange}),r.a.createElement("input",{type:"password",autoComplete:"off",className:"form-control mb-3 formsize51",name:"userpassword",require:!0,placeholder:"Enter Password",value:this.state.userpassword,onChange:this.handleChange}),r.a.createElement("button",{disabled:""===this.state.useremailAD||""===this.state.username,className:"btn btn-warning formsize91",onClick:function(){return e.registerNow()}},"Register"))))))}}]),a}(n.Component);S.e.register(S.d,S.h,S.b,S.m,S.n);var D="https://dgsyh.localto.net/getrmstatus",P="https://dgsyh.localto.net/otherSalesPoints",x="https://dgsyh.localto.net/GetTmpRmDep",w="https://dgsyh.localto.net/restaurantSales",B="https://dgsyh.localto.net/barSales",A=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(u.a)({},e.target.name,e.target.value))},console.log(">>>Inside Constructor"),n.state={allOccupied:"",allVacant:"",allCorporate:"",allIndividual:"",allStaff:"",allComplimentary:"",allCheckout:"",TotalSales:0,POS:0,Cash:0,Transfer:0,Complimentary:0,Room:0,OtherTotalSales:0,OtherRoom:0,OtherComplimentary:0,OtherTransfer:0,OtherCash:0,OtherPOS:0,ReceptionSales:0,date:"",RestTotalSales:0,RestRoom:0,RestComplimentary:0,RestTransfer:0,RestCash:0,RestPOS:0,BarTotalSales:0,BarRoom:0,BarComplimentary:0,BarTransfer:0,BarCash:0,BarPOS:0,Gtotal:0,Blogin:"",labels:["Rooms","Others","Restaurant","Inner Bar"],showRooms:!1,showOthers:!1,showRest:!1,showInnerBar:!1},n}return Object(m.a)(a,[{key:"handleRoomShow",value:function(){this.setState({showRooms:!0})}},{key:"handleRoomClose",value:function(){this.setState({showRooms:!1})}},{key:"handleOthersShow",value:function(){this.setState({showOthers:!0})}},{key:"handleOthersClose",value:function(){this.setState({showOthers:!1})}},{key:"handleRestShow",value:function(){this.setState({showRest:!0})}},{key:"handleRestClose",value:function(){this.setState({showRest:!1})}},{key:"handleInnerBarClose",value:function(){this.setState({showInnerBar:!1})}},{key:"handleInnerBarShow",value:function(){this.setState({showInnerBar:!0})}},{key:"logout",value:function(){localStorage.removeItem("rtk"),localStorage.removeItem("userdata")}},{key:"render",value:function(){var e=this;console.log(">>> Inside Render",this.state);var t=this.state.allOccupied;if("green"!==t)var a=t.length;var n={labels:this.state.labels,datasets:[{data:[this.state.TotalSales,this.state.OtherTotalSales,this.state.RestTotalSales,this.state.BarTotalSales],backgroundColor:["chartreuse","cornflowerblue","hotpink","lightseagreen"]}]},s=T()(this.state.date).format("YYYY-DD-MMM");return null==localStorage.getItem("rtk")||null===localStorage.getItem("userdata")||"admin@majesticgarden.com"===localStorage.getItem("emailAD")?r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(R,null),r.a.createElement("div",{className:"Dashbackground"},r.a.createElement("div",{className:"heading"},r.a.createElement("h5",{type:"button",onClick:function(){return e.props.history.push("/AppMenu")}},"Dashboard")),r.a.createElement("div",{className:"miniDash"},r.a.createElement(y.a,{variant:"Danger",className:"DashSheet1",type:"button",onClick:function(){return e.handleRoomShow()}},r.a.createElement("p",{className:"mobileText"},"Rooms: ",r.a.createElement(f.a,{value:this.state.TotalSales,thousandSeparator:!0,displayType:"text"}))),r.a.createElement(y.a,{variant:"Danger",className:"DashSheet2",type:"button",onClick:function(){return e.handleOthersShow()}},r.a.createElement("p",{className:"mobileText"},"Other Sales: ",r.a.createElement(f.a,{value:this.state.OtherTotalSales,thousandSeparator:!0,displayType:"text"}))),r.a.createElement(y.a,{variant:"Danger",className:"DashSheet3",type:"button",onClick:function(){return e.handleRestShow()}},r.a.createElement("p",{className:"mobileText"},"Restaurant: ",r.a.createElement(f.a,{value:this.state.RestTotalSales,thousandSeparator:!0,displayType:"text"}))),r.a.createElement(y.a,{variant:"Danger",className:"DashSheet4",type:"button",onClick:function(){return e.handleInnerBarShow()}},r.a.createElement("p",{className:"mobileText"},"Bar: ",r.a.createElement(f.a,{value:this.state.BarTotalSales,thousandSeparator:!0,displayType:"text"}))),r.a.createElement(y.a,{variant:"Danger",className:"DashSheet6"},r.a.createElement(d.a.Title,null,r.a.createElement("p",{className:"mobileText"},"Total: ",r.a.createElement(f.a,{value:parseInt(this.state.BarTotalSales)+parseInt(this.state.RestTotalSales)+parseInt(this.state.OtherTotalSales)+parseInt(this.state.TotalSales),thousandSeparator:!0,displayType:"text"}))))),r.a.createElement("div",{className:"chart"},r.a.createElement(E.a,{options:{responsive:!0,plugins:{title:{display:!0,text:"Income Chart"}}},data:n}))),r.a.createElement(v.a,{show:this.state.showRooms},r.a.createElement("div",{className:"missionvission"},r.a.createElement(v.a.Body,null,r.a.createElement("div",{className:"size13"},r.a.createElement(b.a,{onClick:function(){return e.handleRoomClose()}})),r.a.createElement("div",{className:"missionStatement"},r.a.createElement(d.a.Title,{className:"mb-3"},"Rooms Payment Analysis"),r.a.createElement("hr",null),r.a.createElement(d.a.Subtitle,{className:"mb-3 text-muted editsub2"},s),r.a.createElement(d.a.Text,{className:"mb-3 editsub"},r.a.createElement("div",{className:"tableBody"},r.a.createElement("p",{className:"adjust5"},"Occupancy:",a),r.a.createElement("p",{className:"adjust5"},"Cash: ",r.a.createElement(f.a,{value:this.state.Cash,thousandSeparator:!0,displayType:"text"})),r.a.createElement("p",{className:"adjust5"},"POS: ",r.a.createElement(f.a,{value:this.state.POS,thousandSeparator:!0,displayType:"text"})),r.a.createElement("p",{className:"adjust5"},"Transfer: ",r.a.createElement(f.a,{value:this.state.Transfer,thousandSeparator:!0,displayType:"text"})),r.a.createElement("p",{className:"adjust5"},"Room: ",r.a.createElement(f.a,{value:this.state.Room,thousandSeparator:!0,displayType:"text"})),r.a.createElement("p",{className:"adjust5"},"Reservation Deposit.: ",r.a.createElement(f.a,{value:this.state.Complimentary,thousandSeparator:!0,displayType:"text"})),r.a.createElement("p",{className:"adjust5"},"Total: ",r.a.createElement(f.a,{value:this.state.TotalSales,thousandSeparator:!0,displayType:"text"})))),r.a.createElement("br",null),r.a.createElement("br",null))))),r.a.createElement(v.a,{show:this.state.showOthers},r.a.createElement("div",{className:"missionvission"},r.a.createElement(v.a.Body,null,r.a.createElement("div",{className:"size13"},r.a.createElement(b.a,{onClick:function(){return e.handleOthersClose()}})),r.a.createElement("div",{className:"missionStatement"},r.a.createElement(d.a.Title,{className:"mb-3"},"Others Payment Analysis"),r.a.createElement("hr",null),r.a.createElement(d.a.Subtitle,{className:"mb-3 text-muted editsub"},s),r.a.createElement(d.a.Text,{className:"mb-3 editsub"},r.a.createElement("div",{className:"tableBody"},r.a.createElement("p",{className:"adjust5"},"Cash: ",r.a.createElement(f.a,{value:this.state.OtherCash,thousandSeparator:!0,displayType:"text"})),r.a.createElement("p",{className:"adjust5"},"POS: ",r.a.createElement(f.a,{value:this.state.OtherPOS,thousandSeparator:!0,displayType:"text"})),r.a.createElement("p",{className:"adjust5"},"Transfer: ",r.a.createElement(f.a,{value:this.state.OtherTransfer,thousandSeparator:!0,displayType:"text"})),r.a.createElement("p",{className:"adjust5"},"Room: ",r.a.createElement(f.a,{value:this.state.OtherRoom,thousandSeparator:!0,displayType:"text"})),r.a.createElement("p",{className:"adjust5"},"Comp.: ",r.a.createElement(f.a,{value:this.state.OtherComplimentary,thousandSeparator:!0,displayType:"text"})),r.a.createElement("p",{className:"adjust5"},"Total: ",r.a.createElement(f.a,{value:this.state.OtherTotalSales,thousandSeparator:!0,displayType:"text"})))),r.a.createElement("br",null),r.a.createElement("br",null))))),r.a.createElement(v.a,{show:this.state.showRest},r.a.createElement("div",{className:"missionvission"},r.a.createElement(v.a.Body,null,r.a.createElement("div",{className:"size13"},r.a.createElement(b.a,{onClick:function(){return e.handleRestClose()}})),r.a.createElement("div",{className:"missionStatement"},r.a.createElement(d.a.Title,{className:"mb-3"},"Restaurant Payment Analysis"),r.a.createElement("hr",null),r.a.createElement(d.a.Subtitle,{className:"mb-3 text-muted editsub"},s),r.a.createElement(d.a.Text,{className:"mb-3 editsub"},r.a.createElement("div",{className:"tableBody"},r.a.createElement("p",{className:"adjust5"},"Cash: ",r.a.createElement(f.a,{value:this.state.RestCash,thousandSeparator:!0,displayType:"text"})),r.a.createElement("p",{className:"adjust5"},"POS: ",r.a.createElement(f.a,{value:this.state.RestPOS,thousandSeparator:!0,displayType:"text"})),r.a.createElement("p",{className:"adjust5"},"Transfer: ",r.a.createElement(f.a,{value:this.state.RestTransfer,thousandSeparator:!0,displayType:"text"})),r.a.createElement("p",{className:"adjust5"},"Room: ",r.a.createElement(f.a,{value:this.state.RestRoom,thousandSeparator:!0,displayType:"text"})),r.a.createElement("p",{className:"adjust5"},"Comp.: ",r.a.createElement(f.a,{value:this.state.RestComplimentary,thousandSeparator:!0,displayType:"text"})),r.a.createElement("p",{className:"adjust5"},"Total: ",r.a.createElement(f.a,{value:this.state.RestTotalSales,thousandSeparator:!0,displayType:"text"})))),r.a.createElement("br",null),r.a.createElement("br",null))))),r.a.createElement(v.a,{show:this.state.showInnerBar},r.a.createElement("div",{className:"missionvission"},r.a.createElement(v.a.Body,null,r.a.createElement("div",{className:"size13"},r.a.createElement(b.a,{onClick:function(){return e.handleInnerBarClose()}})),r.a.createElement("div",{className:"missionStatement"},r.a.createElement(d.a.Title,{className:"mb-3"},"Bar Payment Analysis"),r.a.createElement("hr",null),r.a.createElement(d.a.Subtitle,{className:"mb-3 text-muted editsub"},s),r.a.createElement(d.a.Text,{className:"mb-3 editsub"},r.a.createElement("div",{className:"tableBody"},r.a.createElement("p",{className:"adjust5"},"Cash: ",r.a.createElement(f.a,{value:this.state.BarCash,thousandSeparator:!0,displayType:"text"})),r.a.createElement("p",{className:"adjust5"},"POS: ",r.a.createElement(f.a,{value:this.state.BarPOS,thousandSeparator:!0,displayType:"text"})),r.a.createElement("p",{className:"adjust5"},"Transfer: ",r.a.createElement(f.a,{value:this.state.BarTransfer,thousandSeparator:!0,displayType:"text"})),r.a.createElement("p",{className:"adjust5"},"Room: ",r.a.createElement(f.a,{value:this.state.BarRoom,thousandSeparator:!0,displayType:"text"})),r.a.createElement("p",{className:"adjust5"},"Comp.: ",r.a.createElement(f.a,{value:this.state.BarComplimentary,thousandSeparator:!0,displayType:"text"})),r.a.createElement("p",{className:"adjust5"},"Total: ",r.a.createElement(f.a,{value:this.state.BarTotalSales,thousandSeparator:!0,displayType:"text"})))),r.a.createElement("br",null),r.a.createElement("br",null))))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside DidMount"),fetch("".concat(D),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({allOccupied:t.map(function(e){return e.roomStatus}).filter(function(e){return"green"!==e&&"black"!==e}),allVacant:t.map(function(e){return e.roomStatus}).filter(function(e){return"green"===e}),allCorporate:t.map(function(e){return e.roomStatus}).filter(function(e){return"blue"===e}),allIndividual:t.map(function(e){return e.roomStatus}).filter(function(e){return"blueviolet"===e}),allStaff:t.map(function(e){return e.roomStatus}).filter(function(e){return"deeppink"===e}),allComplimentary:t.map(function(e){return e.roomStatus}).filter(function(e){return"orange"===e}),allCheckout:t.map(function(e){return e.roomStatus}).filter(function(e){return"black"===e})})}),fetch("".concat(x),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({POS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({Cash:n});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({Transfer:r});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({Complimentary:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({Room:o});var l=0+e.state.Cash+e.state.POS+e.state.Transfer+e.state.Room;e.setState({TotalSales:l})}),fetch("".concat(P),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({OtherPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({OtherCash:n});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({OtherTransfer:r});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({OtherComplimentary:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({OtherRoom:o});var l=0+e.state.OtherCash+e.state.OtherPOS+e.state.OtherTransfer+e.state.OtherRoom;e.setState({OtherTotalSales:l})}),fetch("".concat(w),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({RestPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({RestCash:n});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({RestTransfer:r});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({RestComplimentary:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({RestRoom:o});var l=0+e.state.RestCash+e.state.RestPOS+e.state.RestTransfer+e.state.RestRoom;e.setState({RestTotalSales:l})}),fetch("".concat(B),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({BarPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({BarCash:n});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({BarTransfer:r});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({BarComplimentary:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({BarRoom:o});var l=0+e.state.BarCash+e.state.BarPOS+e.state.BarTransfer+e.state.BarRoom;e.setState({BarTotalSales:l})}),fetch("".concat("https://dgsyh.localto.net/getActive"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({date:t.date}),"ok"})}),this.myTimer=setTimeout(function(){fetch("".concat(D),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({allOccupied:t.map(function(e){return e.roomStatus}).filter(function(e){return"green"!==e&&"black"!==e}),allVacant:t.map(function(e){return e.roomStatus}).filter(function(e){return"green"===e}),allCorporate:t.map(function(e){return e.roomStatus}).filter(function(e){return"blue"===e}),allIndividual:t.map(function(e){return e.roomStatus}).filter(function(e){return"blueviolet"===e}),allStaff:t.map(function(e){return e.roomStatus}).filter(function(e){return"deeppink"===e}),allComplimentary:t.map(function(e){return e.roomStatus}).filter(function(e){return"orange"===e}),allCheckout:t.map(function(e){return e.roomStatus}).filter(function(e){return"black"===e})})}),fetch("".concat(x),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({POS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({Cash:n});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({Transfer:r});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({Complimentary:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({Room:o});var l=0+e.state.Cash+e.state.POS+e.state.Transfer+e.state.Room;e.setState({TotalSales:l})}),fetch("".concat(P),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({OtherPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({OtherCash:n});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({OtherTransfer:r});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({OtherComplimentary:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({OtherRoom:o});var l=0+e.state.OtherCash+e.state.OtherPOS+e.state.OtherTransfer+e.state.OtherRoom;e.setState({OtherTotalSales:l})}),fetch("".concat(w),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({RestPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({RestCash:n});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({RestTransfer:r});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({RestComplimentary:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({RestRoom:o});var l=0+e.state.RestCash+e.state.RestPOS+e.state.RestTransfer+e.state.RestRoom;e.setState({RestTotalSales:l})}),fetch("".concat(B),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({BarPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({BarCash:n});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({BarTransfer:r});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({BarComplimentary:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({BarRoom:o});var l=0+e.state.BarCash+e.state.BarPOS+e.state.BarTransfer+e.state.BarRoom;e.setState({BarTotalSales:l})})},3e3),this.myTimer=setInterval(function(){fetch("".concat(D),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({allOccupied:t.map(function(e){return e.roomStatus}).filter(function(e){return"green"!==e&&"black"!==e}),allVacant:t.map(function(e){return e.roomStatus}).filter(function(e){return"green"===e}),allCorporate:t.map(function(e){return e.roomStatus}).filter(function(e){return"blue"===e}),allIndividual:t.map(function(e){return e.roomStatus}).filter(function(e){return"blueviolet"===e}),allStaff:t.map(function(e){return e.roomStatus}).filter(function(e){return"deeppink"===e}),allComplimentary:t.map(function(e){return e.roomStatus}).filter(function(e){return"orange"===e}),allCheckout:t.map(function(e){return e.roomStatus}).filter(function(e){return"black"===e})})}),fetch("".concat(x),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({POS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({Cash:n});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({Transfer:r});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({Complimentary:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({Room:o});var l=0+e.state.Cash+e.state.POS+e.state.Transfer+e.state.Room;e.setState({TotalSales:l})}),fetch("".concat(P),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({OtherPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({OtherCash:n});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({OtherTransfer:r});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({OtherComplimentary:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({OtherRoom:o});var l=0+e.state.OtherCash+e.state.OtherPOS+e.state.OtherTransfer+e.state.OtherRoom;e.setState({OtherTotalSales:l})}),fetch("".concat(w),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({RestPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({RestCash:n});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({RestTransfer:r});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({RestComplimentary:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({RestRoom:o});var l=0+e.state.RestCash+e.state.RestPOS+e.state.RestTransfer+e.state.RestRoom;e.setState({RestTotalSales:l})}),fetch("".concat(B),{method:"GET"}).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POSAmount)},0);e.setState({BarPOS:a});var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CashAmount)},0);e.setState({BarCash:n});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.TransferAmount)},0);e.setState({BarTransfer:r});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.CompDebit)},0);e.setState({BarComplimentary:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.roomDebit)},0);e.setState({BarRoom:o});var l=0+e.state.BarCash+e.state.BarPOS+e.state.BarTransfer+e.state.BarRoom;e.setState({BarTotalSales:l})})},3e5)}}]),a}(n.Component),M=a(35),F=(a(84),a(83)),G=a.n(F),z=(a(116),a(57)),Y=a(66),q=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),n=t.call(this,e),console.log(">>>Inside ROConstructor"),n.state={occuppancyData:"",occuppancySearch:"",date:"",percentOcc:"",NumOccuppied:"",NumAllRms:"",AllRms:"",percentCalculated:"",Blogin:""},n.checkinhandleChange=n.checkinhandleChange.bind(Object(M.a)(n)),n}return Object(m.a)(a,[{key:"checkinhandleChange",value:function(e){this.setState({date:e})}},{key:"renderDate",value:function(){return r.a.createElement("div",null,r.a.createElement(G.a,{selected:this.state.date,onChange:this.checkinhandleChange,maxDate:Object(z.default)(new Date,0),dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112",placeholderText:"Select Start Date"}))}},{key:"findOccuppancySearch",value:function(){var e=this,t=T()(this.state.date).format("MMM DD YYYY");this.setState({occuppancyData:""}),fetch("".concat("https://dgsyh.localto.net/getDailyOccuppancy?","occuppancyToday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({occuppancyData:t.OccuppancyData}),"ok"})})}},{key:"resetOccupancy",value:function(){var e=this;this.setState({occuppancyData:"",date:""}),fetch("".concat("https://dgsyh.localto.net/checkin"),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({occuppancyData:t})})}},{key:"renderOccupancyData",value:function(e){return e?(e.sort(function(e,t){return e.roomNumbers-t.roomNumbers}),e.map(function(e){var t=T()(e.arrivalDate).format("YYYY-DD-MMM"),a=T()(e.departureDate).format("YYYY-DD-MMM");return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{key:e._id},r.a.createElement("td",{className:"table-light table-striped adjust225"},e.fname," ",e.lname),r.a.createElement("td",{className:"table-light table-striped adjust222"},e.roomNumbers),r.a.createElement("td",{className:"table-light table-striped adjust225"},e.roomtypeName),r.a.createElement("td",{className:"table-light table-striped adjust20"},r.a.createElement(f.a,{value:e.roomRate,thousandSeparator:!0,displayType:"text"})),r.a.createElement("td",{className:"table-light table-striped adjust222"},e.discounType),r.a.createElement("td",{className:"table-light table-striped adjust20"},r.a.createElement(f.a,{value:e.discountAmount,thousandSeparator:!0,displayType:"text"})),r.a.createElement("td",{className:"table-light table-striped adjust20"},r.a.createElement(f.a,{value:e.dailyRate,thousandSeparator:!0,displayType:"text"})),r.a.createElement("td",{className:"table-light table-striped adjust2"},t),r.a.createElement("td",{className:"table-light table-striped adjust2"},a)))})):r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{animation:"border",variant:"primary"}),r.a.createElement(Y.a,{animation:"border",variant:"danger"}),r.a.createElement(Y.a,{animation:"border",variant:"warning"}))}},{key:"render",value:function(){var e=this;return console.log(">>> Inside ROtrender",this.state),null==localStorage.getItem("rtk")||null===localStorage.getItem("userdata")||"admin@majesticgarden.com"===localStorage.getItem("emailAD")?r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(R,null),r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("center",null,r.a.createElement("h5",null,"Room Occupancy Report")),r.a.createElement("br",null),r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",{className:"table-warning"},r.a.createElement("tr",null,r.a.createElement("th",{className:"adjust5"},"Names"),r.a.createElement("th",{className:"adjust5"},"Room"),r.a.createElement("th",{className:"adjust5"},"Type"),r.a.createElement("th",{className:"adjust5"},"Rate"),r.a.createElement("th",{className:"adjust5"},"DiscType"),r.a.createElement("th",{className:"adjust5"},"DiscAmt"),r.a.createElement("th",{className:"adjust5"},"Daily Rate"),r.a.createElement("th",{className:"adjust5"},"Arr"),r.a.createElement("th",{className:"adjust5"},"Dep"))),r.a.createElement("tbody",{className:"table table-hover"},this.renderOccupancyData(this.state.occuppancyData)),r.a.createElement("br",null)),r.a.createElement("div",{className:"row"},r.a.createElement("h6",null,"Occupancy Summary:"),r.a.createElement("hr",null),r.a.createElement("div",{className:"col-4"},r.a.createElement("p",null,r.a.createElement("span",{className:"textSize30"},"No. of Occupied Rooms:"),r.a.createElement("span",{className:"textSize31"}," ",this.state.NumOccuppied))),r.a.createElement("div",{className:"col-4"},r.a.createElement("p",null,r.a.createElement("span",{className:"textSize30"},"Total Num of Rooms:"),r.a.createElement("span",{className:"textSize31"}," ",this.state.NumAllRms))),r.a.createElement("div",{className:"col-4"},r.a.createElement("p",null,r.a.createElement("span",{className:"textSize30"},"Percentage Occupancy:"),r.a.createElement("span",{className:"textSize31"}," ",this.state.percentCalculated," %"))),r.a.createElement("hr",null)),r.a.createElement("center",null,r.a.createElement("button",{className:"btn btn-warning printing",onClick:function(){return window.print()}},"Print"),r.a.createElement("button",{className:"btn btn-danger printing space",onClick:function(){return e.props.history.push("/")}},"Close"))))}},{key:"componentDidMount",value:function(){var e=Object(I.a)(N.a.mark(function e(){var t=this;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(">>> Inside ROdidMount"),fetch("".concat("https://dgsyh.localto.net/checkin"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({occuppancyData:e})}),fetch("".concat("https://dgsyh.localto.net/getrmstatus"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({percentOcc:e.map(function(e){return e.roomStatus}).filter(function(e){return"green"!==e&&"black"!==e}),AllRms:e.map(function(e){return e.roomStatus}).filter(function(e){return e})});var a=t.state.percentOcc.length;t.setState({NumOccuppied:a});var n=t.state.AllRms,r=parseInt(n.length);t.setState({NumAllRms:r});var s=0;s+=parseFloat(t.state.NumOccuppied)/parseFloat(t.state.NumAllRms)*100,t.setState({percentCalculated:s.toFixed(2)})});case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),_=a(132),L=a(126),V=a(125),H=a(63),J=a(124),W=(a(209),Object(_.b)({format:L.default,parse:V.default,startOfWeek:H.default,getDay:J.default,locales:g.locales})),K=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),n=t.call(this,e),console.log(">>> inside ReservContructor",e),n.state={events:[],_id:Math.floor(1e8*Math.random()),fname:"",lname:"",allDay:"",start:"",end:"",room:"",title:"",phone:"",rsvAmount:"",displayAllRoomNums:"",displayOccupiedRoomNums:"",printBTN:"Print",transactionDate:""},n.starthandleChange=n.starthandleChange.bind(Object(M.a)(n)),n.endhandleChange=n.endhandleChange.bind(Object(M.a)(n)),n}return Object(m.a)(a,[{key:"starthandleChange",value:function(e){this.setState({start:e});var t=this.state.room+" "+this.state.fname+" "+this.state.lname+" "+this.state.phone;this.setState({title:t})}},{key:"endhandleChange",value:function(e){this.setState({end:e})}},{key:"render",value:function(){return console.log(">>> Inside Rsvdetails",this.state),null==localStorage.getItem("rtk")||null===localStorage.getItem("userdata")||"admin@majesticgarden.com"===localStorage.getItem("emailAD")?r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(R,null),r.a.createElement("div",{className:"background993"},r.a.createElement("div",null,r.a.createElement("h4",{style:{marginLeft:"20px"}},"Reservations")),r.a.createElement("div",null,r.a.createElement(_.a,{localizer:W,events:this.state.events,startAccessor:"start",endAccessor:"end",className:"calendarSettings",selectable:!0,onSelectEvent:this.handleEventSelection})),r.a.createElement("div",null,r.a.createElement("center",null,r.a.createElement(r.a.Fragment,null,r.a.createElement(l.b,{to:"/"},r.a.createElement("button",{className:"btn btn-danger space"},"Close")))))))}},{key:"componentDidMount",value:function(){var e=Object(I.a)(N.a.mark(function e(){var t=this;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(">>> Inside RsvDidMount",this.state),fetch("".concat("https://dgsyh.localto.net/reservation"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t.setState({events:e}),e.map(function(e){return t.setState({rsvAmount:e.rsvAmount}),"ok"})});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),Q="https://dgsyh.localto.net/salesReport?BarSales=Bar%20Sales",U="https://dgsyh.localto.net/salesReport?restSales=Restaurant%20Sales",X="https://dgsyh.localto.net/salesReport?otherSales=Other%20Sales",Z="https://dgsyh.localto.net/salesReport?accDepositReceptn=Accommodation%20Deposits",$=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(u.a)({},e.target.name,e.target.value))},n.renderRoomSales=function(e){if(e)return e.map(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{key:e._id},r.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},e.description),r.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},r.a.createElement(f.a,{value:e.POS,thousandSeparator:!0,displayType:"text"})),r.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},r.a.createElement(f.a,{value:e.Cash,thousandSeparator:!0,displayType:"text"})),r.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},r.a.createElement(f.a,{value:e.Room,thousandSeparator:!0,displayType:"text"})),r.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},r.a.createElement(f.a,{value:e.Transfer,thousandSeparator:!0,displayType:"text"})),r.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},r.a.createElement("b",null,r.a.createElement(f.a,{value:parseInt(e.POS)+parseInt(e.Cash)+parseInt(e.Room)+parseInt(e.Transfer),thousandSeparator:!0,displayType:"text"})))))})},n.renderRestSales=function(e){if(e)return e.map(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{key:e._id},r.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},e.description),r.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},r.a.createElement(f.a,{value:e.POS,thousandSeparator:!0,displayType:"text"})),r.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},r.a.createElement(f.a,{value:e.Cash,thousandSeparator:!0,displayType:"text"})),r.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},r.a.createElement(f.a,{value:e.Room,thousandSeparator:!0,displayType:"text"})),r.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},r.a.createElement(f.a,{value:e.Transfer,thousandSeparator:!0,displayType:"text"})),r.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},r.a.createElement("b",null,r.a.createElement(f.a,{value:parseInt(e.POS)+parseInt(e.Cash)+parseInt(e.Room)+parseInt(e.Transfer),thousandSeparator:!0,displayType:"text"})))))})},n.renderBarSales=function(e){if(e)return e.map(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{key:e._id},r.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},e.description),r.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},r.a.createElement(f.a,{value:e.POS,thousandSeparator:!0,displayType:"text"})),r.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},r.a.createElement(f.a,{value:e.Cash,thousandSeparator:!0,displayType:"text"})),r.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},r.a.createElement(f.a,{value:e.Room,thousandSeparator:!0,displayType:"text"})),r.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},r.a.createElement(f.a,{value:e.Transfer,thousandSeparator:!0,displayType:"text"})),r.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},r.a.createElement("b",null,r.a.createElement(f.a,{value:parseInt(e.POS)+parseInt(e.Cash)+parseInt(e.Room)+parseInt(e.Transfer),thousandSeparator:!0,displayType:"text"})))))})},n.renderOtherSales=function(e){if(e)return e.map(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{key:e._id},r.a.createElement("td",{className:"table-light table-striped adjust2 alignTet"},e.description),r.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},r.a.createElement(f.a,{value:e.POS,thousandSeparator:!0,displayType:"text"})),r.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},r.a.createElement(f.a,{value:e.Cash,thousandSeparator:!0,displayType:"text"})),r.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},r.a.createElement(f.a,{value:e.Room,thousandSeparator:!0,displayType:"text"})),r.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},r.a.createElement(f.a,{value:e.Transfer,thousandSeparator:!0,displayType:"text"})),r.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},r.a.createElement("b",null,r.a.createElement(f.a,{value:parseInt(e.POS)+parseInt(e.Cash)+parseInt(e.Room)+parseInt(e.Transfer),thousandSeparator:!0,displayType:"text"})))))})},console.log(">>>Inside CashConstructor",e),n.state={RoomDeposits:"",RoomTotal:0,depPOS:0,depCash:0,depTransfer:0,depRoom:0,BarSales:0,BarTotal:0,barPOS:0,barCash:0,barTransfer:0,barRoom:0,RestSales:"",RestTotal:0,restPOS:0,restCash:0,restTransfer:0,restRoom:0,otherSales:0,othersTotal:0,otherPOS:0,otherCash:0,otherTransfer:0,otherRoom:0,POSCal:0,CashCal:0,TransferCal:0,RoomCal:0,poolPOS:0,poolCash:0,poolRoom:0,poolTransfer:0,startdate:"",endDate:""},n.checkinhandleChange=n.checkinhandleChange.bind(Object(M.a)(n)),n.endhandleChange=n.endhandleChange.bind(Object(M.a)(n)),n}return Object(m.a)(a,[{key:"checkinhandleChange",value:function(e){this.setState({date:e})}},{key:"endhandleChange",value:function(e){this.setState({endDate:e})}},{key:"renderDate",value:function(){return r.a.createElement("div",null,r.a.createElement(G.a,{selected:this.state.date,onChange:this.checkinhandleChange,maxDate:Object(z.default)(new Date,0),dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112",placeholderText:"Select Start Date"}))}},{key:"renderendDate",value:function(){return r.a.createElement("div",null,r.a.createElement(G.a,{selected:this.state.endDate,onChange:this.endhandleChange,maxDate:new Date,dropdownMode:"select",dateFormat:"MMM/d/ yyyy",className:"form-control mb-3 formsize printing alignText112 mvrght",placeholderText:"Search End Date"}))}},{key:"findSalesReport",value:function(){var e=this,t=T()(this.state.date).format("MMM DD YYYY");this.setState({depRoom:0,depTransfer:0,depCash:0,depPOS:0,RoomTotal:0,RoomDeposits:"",RestSales:"",BarSales:"",otherSales:""}),fetch("".concat(Z,"&&today=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RoomDeposits:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({depPOS:n});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({depCash:r});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({depTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({depRoom:o}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.depCash)+parseInt(e.state.depPOS)+parseInt(e.state.depTransfer)+parseInt(e.state.depRoom);e.setState({RoomTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({depRoom:0,depTransfer:0,depCash:0,depPOS:0,RoomTotal:0}))}),fetch("".concat(U,"&&resttoday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RestSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({restPOS:n});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({restCash:r});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({restTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({restRoom:o}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.restCash)+parseInt(e.state.restPOS)+parseInt(e.state.restTransfer)+parseInt(e.state.restRoom);e.setState({RestTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({restRoom:0,restTransfer:0,restCash:0,restPOS:0,RestTotal:0}))}),fetch("".concat(Q,"&&bartoday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({BarSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({barPOS:n});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({barCash:r});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({barTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({barRoom:o}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.barCash)+parseInt(e.state.barPOS)+parseInt(e.state.barTransfer)+parseInt(e.state.barRoom);e.setState({BarTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({barRoom:0,barTransfer:0,barCash:0,barPOS:0,BarTotal:0}))}),fetch("".concat(X,"&&othertoday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({otherSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({otherPOS:n});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({otherCash:r});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({otherTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({otherRoom:o}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.otherCash)+parseInt(e.state.otherPOS)+parseInt(e.state.otherTransfer)+parseInt(e.state.otherRoom);e.setState({othersTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({otherRoom:0,otherTransfer:0,otherCash:0,otherPOS:0,othersTotal:0}))})}},{key:"cleanupfirst",value:function(){this.setState({RoomDeposits:"",RoomTotal:0,depPOS:0,depCash:0,depTransfer:0,depRoom:0,BarSales:0,BarTotal:0,barPOS:0,barCash:0,barTransfer:0,barRoom:0,RestSales:"",RestTotal:0,restPOS:0,restCash:0,restTransfer:0,restRoom:0,functionSales:0,functionTotal:0,functionRoom:0,functionTransfer:0,functionCash:0,functionPOS:0,otherSales:0,othersTotal:0,otherPOS:0,otherCash:0,otherTransfer:0,otherRoom:0,poolSales:0,PoolTotal:0,SpoolPOS:0,poolsCash:0,poolsTransfer:0,poolsRoom:"",POSCal:0,CashCal:0,TransferCal:0,RoomCal:0,poolPOS:0,poolCash:0,poolRoom:0,poolTransfer:0})}},{key:"render",value:function(){var e=this;return console.log(">>> Inside Cashdetails",this.state),null==localStorage.getItem("rtk")||null===localStorage.getItem("userdata")||"admin@majesticgarden.com"===localStorage.getItem("emailAD")?r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(R,null),r.a.createElement("div",{className:"mobilevi"},r.a.createElement("div",{className:"container"},r.a.createElement("div",null,r.a.createElement("center",null,r.a.createElement("h6",null,this.state.Hotelname),r.a.createElement("p",{className:"textSize"},this.state.Hoteladdress),r.a.createElement("p",{className:"textSize"},this.state.Hotelphone))),r.a.createElement("center",null,r.a.createElement("h5",null,"Daily Sales Report"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("label",null,this.renderDate(this.state.startdate))),r.a.createElement("span",null,r.a.createElement("button",{className:"btn btn-primary space btnadjuster printing",onClick:function(){e.cleanupfirst(),e.findSalesReport()}},"Find")))),r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",{className:"table-warning"},r.a.createElement("tr",null,r.a.createElement("th",{className:"adjust50"},"Desc."),r.a.createElement("th",{className:"adjust50"},"POS"),r.a.createElement("th",{className:"adjust50"},"Cash"),r.a.createElement("th",{className:"adjust50"},"Room"),r.a.createElement("th",{className:"adjust50"},"Transfer"),r.a.createElement("th",{className:"adjust50"},"Total"))),r.a.createElement("tbody",{className:"table table-hover"},this.renderRoomSales(this.state.RoomDeposits),this.renderRestSales(this.state.RestSales),this.renderBarSales(this.state.BarSales),this.renderOtherSales(this.state.otherSales),r.a.createElement("tr",null,r.a.createElement("td",{className:"table-light table-striped adjust2"},r.a.createElement("b",null,"Total")),r.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},r.a.createElement("b",null,r.a.createElement(f.a,{value:parseInt(this.state.depPOS)+parseInt(this.state.restPOS)+parseInt(this.state.barPOS)+parseInt(this.state.otherPOS),thousandSeparator:!0,displayType:"text"}))),r.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},r.a.createElement("b",null,r.a.createElement(f.a,{value:parseInt(this.state.depCash)+parseInt(this.state.restCash)+parseInt(this.state.barCash)+parseInt(this.state.otherCash),thousandSeparator:!0,displayType:"text"}))),r.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},r.a.createElement("b",null,r.a.createElement(f.a,{value:parseInt(this.state.depRoom)+parseInt(this.state.restRoom)+parseInt(this.state.barRoom)+parseInt(this.state.otherRoom),thousandSeparator:!0,displayType:"text"}))),r.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},r.a.createElement("b",null,r.a.createElement(f.a,{value:parseInt(this.state.depTransfer)+parseInt(this.state.restTransfer)+parseInt(this.state.barTransfer)+parseInt(this.state.otherTransfer),thousandSeparator:!0,displayType:"text"}))),r.a.createElement("td",{className:"table-light table-striped adjust2 alignTet2"},r.a.createElement("b",null,r.a.createElement(f.a,{value:parseInt(this.state.RoomTotal)+parseInt(this.state.BarTotal)+parseInt(this.state.RestTotal)+parseInt(this.state.othersTotal),thousandSeparator:!0,displayType:"text"})))))),r.a.createElement("h6",null,"Total Collection:         ",r.a.createElement(f.a,{value:parseInt(this.state.RoomTotal)+parseInt(this.state.BarTotal)+parseInt(this.state.RestTotal)+parseInt(this.state.othersTotal),thousandSeparator:!0,displayType:"text",prefix:"NGN"})),r.a.createElement("hr",null),r.a.createElement("center",null,r.a.createElement("button",{className:"btn btn-danger movebtn printing",onClick:function(){return e.props.history.push("/")}},"Close"),r.a.createElement("button",{className:"btn btn-primary movebtn printing",onClick:function(){return window.print()}},"Print")))))}},{key:"componentDidMount",value:function(){var e=this;console.log(">>> Inside CashDidMount",this.state);var t=T()(new Date).format("MMM DD YYYY");this.setState({depRoom:"",depTransfer:"",depCash:"",depPOS:"",RoomTotal:""}),fetch("".concat(Z,"&&today=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RoomDeposits:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({depPOS:n});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({depCash:r});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({depTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({depRoom:o}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.depCash)+parseInt(e.state.depPOS)+parseInt(e.state.depTransfer)+parseInt(e.state.depRoom);e.setState({RoomTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({depRoom:"",depTransfer:"",depCash:"",depPOS:"",RoomTotal:""}))}),fetch("".concat(U,"&&resttoday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({RestSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({restPOS:n});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({restCash:r});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({restTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({restRoom:o}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.restCash)+parseInt(e.state.restPOS)+parseInt(e.state.restTransfer)+parseInt(e.state.restRoom);e.setState({RestTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({restRoom:"",restTransfer:"",restCash:"",restPOS:"",RestTotal:""}))}),fetch("".concat(Q,"&&bartoday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({BarSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({barPOS:n});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({barCash:r});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({barTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({barRoom:o}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.barCash)+parseInt(e.state.barPOS)+parseInt(e.state.barTransfer)+parseInt(e.state.barRoom);e.setState({BarTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({barRoom:"",barTransfer:"",barCash:"",barPOS:"",BarTotal:""}))}),fetch("".concat(X,"&&othertoday=").concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({otherSales:t}),t.map(function(a){var n=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.POS)},0);e.setState({otherPOS:n});var r=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Cash)},0);e.setState({otherCash:r});var s=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Transfer)},0);e.setState({otherTransfer:s});var o=t.map(function(e){return e}).reduce(function(e,t){return e+parseInt(t.Room)},0);return e.setState({otherRoom:o}),e.myTimer=setTimeout(function(){var t=0+parseInt(e.state.otherCash)+parseInt(e.state.otherPOS)+parseInt(e.state.otherTransfer)+parseInt(e.state.otherRoom);e.setState({othersTotal:t})},2e3),"ok"}),0===t.lenght&&(alert("No Data Found"),e.setState({otherRoom:"",otherTransfer:"",otherCash:"",otherPOS:"",othersTotal:""}))})}}]),a}(n.Component),ee=a(131),te=a.n(ee),ae="https://dgsyh.localto.net/getrmstatus",ne=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).renderRoomchart=function(e){return e?e.map(function(t){return e.sort(function(e,t){return e.roomNumbers-t.roomNumbers}),t.fname||t.lname||"black"===t.roomStatus||"green"!==t.roomStatus?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card alignroomsgreen",style:{backgroundColor:"".concat(t.roomStatus)}},r.a.createElement("div",{className:"card-body top"},r.a.createElement("b",{className:"card-title"},t.roomNumbers),r.a.createElement("h6",{className:"card-subtitle mb-2 sizel2"},t.fname," ",t.lname),r.a.createElement("h6",{className:"card-subtitle mb-2 sizel"},t.roomtypeName)))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card alignroomsgreen",style:{backgroundColor:"".concat(t.roomStatus)}},r.a.createElement("div",{className:"card-body top"},r.a.createElement("b",{className:"card-title"},t.roomNumbers),r.a.createElement("h6",{className:"card-subtitle mb-2 sizel2"},t.fname," ",t.lname),r.a.createElement("h6",{className:"card-subtitle sizel"},t.roomtypeName))))}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{animation:"border",variant:"primary"}),r.a.createElement(Y.a,{animation:"border",variant:"danger"}),r.a.createElement(Y.a,{animation:"border",variant:"warning"}))},console.log(">>>Inside RMConstructor"),n.state={roomchart:"",guestrecord:""},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return console.log(">>> Inside RMrender",this.state),null==localStorage.getItem("rtk")||null===localStorage.getItem("userdata")||"admin@majesticgarden.com"===localStorage.getItem("emailAD")?r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(R,null),r.a.createElement("div",{className:"pagebody12"},r.a.createElement("br",null),this.renderRoomchart(this.state.roomchart)),r.a.createElement("center",null,r.a.createElement("div",{className:"pagebody2"},r.a.createElement("div",{className:"space"},r.a.createElement("button",{className:"btn btn-danger gap6",onClick:function(){return e.props.history.push("/")}},"Close")))))}},{key:"componentDidMount",value:function(){var e=Object(I.a)(N.a.mark(function e(){var t,a,n=this;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(">>> Inside RMdidMount"),e.next=3,te.a.get("".concat(ae));case 3:return t=e.sent,e.next=6,te.a.get("".concat("https://dgsyh.localto.net/checkin?guest="));case 6:a=e.sent,this.setState({roomchart:t.data,guestrecord:a.data}),this.myTimer=setInterval(function(){console.log(">>> Inside RMdidMount"),fetch("".concat(ae),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({roomchart:e})}),fetch("".concat("https://dgsyh.localto.net/checkin?guest="),{method:"GET"}).then(function(e){return e.json()}).then(function(e){n.setState({guestrecord:e})})},3e5);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),re=function(){return r.a.createElement(l.a,null,r.a.createElement(c.a,{exact:!0,path:"/",component:A}),r.a.createElement(c.a,{exact:!0,path:"/AdLogin",component:k}),r.a.createElement(c.a,{exact:!0,path:"/Occupancy",component:q}),r.a.createElement(c.a,{exact:!0,path:"/Reservation",component:K}),r.a.createElement(c.a,{exact:!0,path:"/SalesReport",component:$}),r.a.createElement(c.a,{exact:!0,path:"/RoomChart",component:ne}))};o.a.render(r.a.createElement(re,null),document.getElementById("root"))},84:function(e,t,a){}},[[151,1,2]]]);
//# sourceMappingURL=main.9bd0891e.chunk.js.map